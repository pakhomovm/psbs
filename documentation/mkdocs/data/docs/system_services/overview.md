# Вводная


## Список сервисов
Для целей эксплуатации и поддержки развёрнуты следующие системные сервисы:

* [Реверс-прокси](/system_services/traefik/install_traefik/) Traefik - легковесный реверс-прокси, используется для т.н. "публикации" нескольких веб-сервисов, работающих на одном сервере;
* [Система хранения документации](/system_services/mkdocs/install_mkdocs/) на платформе MKDocs - легковесная популярная платформа ведения документации с использованием форматирования Markdown и широким функционалом;
* [Система мониторинга](/system_services/monitoring/) состоящая из:
  * Агентов мониторинга (экспортёров): 
    * [NodeExporter](/system_services/monitoring/node-exporter/) - агент мониторинга серверов, мониторит такие показатели операционной системы как нагрузка CPU, ОЗУ, дисковую подсистему, сеть, файловую подсистему и т.п.;
    * [BlackboxExporter](/system_services/monitoring/blackbox-exporter/) - агент мониторинга сетевой доступности, может проверять её по протоколам ICMP, TCP, HTTP, SMTP, SSH и проч.;
  * [Ядра системы мониторинга](/system_services/monitoring/monitoring_core/) состоящей из:
    * Prometheus - система сбора метрик (с экспортёров) и их хранения;
    * Grafana - система визуализации метрик, использует Prometheus в качестве базы данных, позволяет создавать дашборды с разного рода графиками/диаграммами, а так же рассылать алерты.


## Подходы к проектированию/развёртыванию

При проектировании и развёртывании указанных выше системных сервисов соблюдались следующие подходы:

* Максимальное следование концепции IaaC (Infrastructure as a Code) - т.е. все конфигурации, дашборды и правила алертинга и т.п. сохраняются в виде кода (файлов). 
* Все персистентные данные (файлы и каталоги) монтируются в файловую систему сервера, т.е. docker volume'ы не используются. Это позволяет:
    * кастомизировать файлы конфигураций напрямую (с помощью текстовых тедакторов операционной системы) или заменять их через опции `docker-compose.yaml`;
    * получить доступ к персистентным данным, которые генерируются системами в ходе своей работы. Например, можно скопировать файлы БД Prometheus и перенести их на другой сервер, тогда исторические данные не потеряются с переносом. 

Соблюдение этих принципов позволяет получить близкую к 100%-ной воспроизводимость/переносимость решений (например, при развёртывании на другом сервере).